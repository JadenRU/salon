<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>–ö–æ—Å–º–µ—Ç–æ–ª–æ–≥ ‚Äî –ì–Ω–∞—Ç—é–∫ –ù–∞–¥–µ–∂–¥–∞ –ì–µ–æ—Ä–≥–∏–µ–≤–Ω–∞</title>
  <meta name="description" content="–≠—Å—Ç–µ—Ç–∏—á–Ω—ã–π –ª–µ–Ω–¥–∏–Ω–≥ –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥–∞: –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ, –ø—Ä–∞–π—Å, –æ–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å, –æ—Ç–∑—ã–≤—ã –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã.">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #fffaf9;
      --muted: #9b8f8a;
      --accent: #d4b483;
      --soft: #f6eef0;
      --card: #fff;
      --radius: 16px;
      --max-width: 1100px;
      --shadow: 0 6px 20px rgba(24,20,18,0.08);
    }
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; margin:0; background:var(--bg); color:#2b2b2b; -webkit-font-smoothing:antialiased}
    a{color:inherit}
    .container{max-width:var(--max-width); margin:0 auto; padding:24px}

    /* HERO */
    .hero{display:grid; grid-template-columns:1fr 420px; gap:32px; align-items:center; padding:28px;}
    .hero-card{background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.95)); border-radius:var(--radius); box-shadow:var(--shadow); padding:28px}
    .brand{display:flex; align-items:center; gap:12px}
    .logo{width:64px; height:64px; border-radius:14px; background:linear-gradient(135deg,var(--soft),#fff); display:flex; align-items:center; justify-content:center; font-family:Playfair Display; font-size:22px; color:var(--accent); border:1px solid rgba(0,0,0,0.04)}
    h1{font-family:Playfair Display, serif; font-size:34px; margin:18px 0 8px}
    p.lead{color:var(--muted); margin:0 0 18px}
    .cta-row{display:flex; gap:12px; align-items:center}
    .btn{background:var(--accent); color:#fff; padding:12px 18px; border-radius:12px; border:none; cursor:pointer; font-weight:600; box-shadow:0 6px 18px rgba(212,180,131,0.25)}
    .btn-outline{background:transparent; border:1px solid rgba(43,43,43,0.07); padding:10px 16px}
    .hero-photo{border-radius:20px; overflow:hidden; box-shadow:var(--shadow);}
    .hero-photo img{display:block; width:100%; height:100%; object-fit:cover}

    /* Quick info */
    .quick{display:flex; gap:12px; margin-top:18px}
    .pill{background:rgba(212,180,131,0.12); padding:8px 12px; border-radius:999px; font-weight:600; color:var(--accent)}

    /* TWO COLUMNS BELOW HERO */
    .grid-2{display:grid; grid-template-columns:1fr 380px; gap:28px; margin-top:28px}

    /* Gallery */
    .gallery{display:grid; grid-template-columns:repeat(3,1fr); gap:12px}
    .gallery figure{margin:0; border-radius:12px; overflow:hidden; background:#fff; box-shadow:var(--shadow)}
    .gallery img{width:100%; height:220px; object-fit:cover; display:block}
    .before-after{position:relative}
    .ba-handle{position:absolute; left:50%; top:0; bottom:0; width:3px; background:linear-gradient(#fff0, rgba(0,0,0,.06)); transform:translateX(-50%);}

    /* Services table */
    .card{background:var(--card); border-radius:14px; padding:18px; box-shadow:var(--shadow)}
    table{width:100%; border-collapse:collapse}
    th,td{padding:10px 8px; text-align:left}
    th{font-weight:600; color:var(--muted)}
    td.price{font-weight:700; text-align:right}

    /* Booking */
    .booking{display:flex; flex-direction:column; gap:12px}
    .input, select{padding:10px 12px; border-radius:10px; border:1px solid rgba(0,0,0,0.06); background:#fff}
    .slots{display:flex; gap:8px; flex-wrap:wrap}
    .slot{padding:8px 10px; border-radius:10px; border:1px dashed rgba(0,0,0,0.06); cursor:pointer}
    .slot.selected{background:var(--accent); color:#fff; border-style:solid}

    /* Reviews */
    .reviews{display:flex; flex-direction:column; gap:12px}
    .review{padding:12px; border-radius:12px; background:linear-gradient(180deg,#fff,#fffaf7); box-shadow:var(--shadow)}

    /* Certificates */
    .certs{display:flex; gap:12px; flex-wrap:wrap}
    .cert{width:120px; height:80px; border-radius:8px; overflow:hidden; background:#fff; display:flex; align-items:center; justify-content:center; box-shadow:var(--shadow)}

    /* Footer */
    footer{margin-top:28px; padding:22px; text-align:center; color:var(--muted)}

    /* Responsive */
    @media (max-width:980px){
      .hero{grid-template-columns:1fr;}
      .grid-2{grid-template-columns:1fr}
      .gallery{grid-template-columns:repeat(2,1fr)}
    }
    @media (max-width:560px){
      .gallery img{height:160px}
      h1{font-size:26px}
      .hero-card{padding:18px}
      .logo{width:52px;height:52px}
    }

    /* Micro interactions */
    .tiny{font-size:13px;color:var(--muted)}
    .muted{color:var(--muted)}
  </style>
</head>
<body>
  <div class="container">
    <!-- HERO -->
    <section class="hero">
      <div class="hero-card">
        <div class="brand">
          <div class="logo">–ù</div>
          <div>
            <div class="tiny muted">–ö–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å</div>
            <div style="font-weight:700">–ì–Ω–∞—Ç—é–∫ –ù–∞–¥–µ–∂–¥–∞ –ì–µ–æ—Ä–≥–∏–µ–≤–Ω–∞ ‚Äî –ö–æ—Å–º–µ—Ç–æ–ª–æ–≥</div>
          </div>
        </div>

        <h1>–≠—Å—Ç–µ—Ç–∏—á–Ω—ã–π —É—Ö–æ–¥ –∑–∞ –ª–∏—Ü–æ–º & —Ç–µ–ª–æ–º ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ, –¥–µ–ª–∏–∫–∞—Ç–Ω–æ, –∫—Ä–∞—Å–∏–≤–æ</h1>
        <p class="lead">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã: —É—Ö–æ–¥, –∫–æ—Ä—Ä–µ–∫—Ü–∏—è, –ª–µ—á–µ–±–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã. –ö–æ–º—Ñ–æ—Ä—Ç, —Å—Ç–µ—Ä–∏–ª—å–Ω–æ—Å—Ç—å –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞.</p>

        <div class="quick">
          <div class="pill">–û–ø—ã—Ç 8 –ª–µ—Ç</div>
          <div class="pill">–°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ</div>
          <div class="pill">–ì–∞—Ä–∞–Ω—Ç–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</div>
        </div>

        <div style="margin-top:18px" class="cta-row">
          <button class="btn" id="book-now">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</button>
          <button class="btn-outline" id="view-works">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</button>
          <a class="btn-outline" href="#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        </div>

        <p class="tiny muted" style="margin-top:12px">–†–∞–±–æ—Ç–∞—é –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º —Å—Ç–µ—Ä–∏–ª–∏–∑–∞—Ü–∏–∏. –ü–æ—Å–ª–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã ‚Äî –ø–∞–º—è—Ç–∫–∞ –ø–æ —É—Ö–æ–¥—É.</p>
      </div>

      <div class="hero-photo">
        <img src="" alt="–§–æ—Ç–æ –º–∞—Å—Ç–µ—Ä–∞">
      </div>
    </section>

    <!-- GRID: gallery + booking -->
    <div class="grid-2">
      <div>
        <div class="card">
          <h3 style="margin-top:0">–ì–∞–ª–µ—Ä–µ—è —Ä–∞–±–æ—Ç</h3>
          <div class="gallery" id="gallery">
            <figure><img src="https://images.unsplash.com/photo-1543168257-7a62f2a8dd6d?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="work"></figure>
            <figure class="before-after"><img src="https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="before-after"><div class="ba-handle"></div></figure>
            <figure><img src="https://images.unsplash.com/photo-1584270354949-0d7c7c5a2e22?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="work"></figure>
            <figure><img src="https://images.unsplash.com/photo-1602810318270-6b74f0c5d4f1?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="work"></figure>
            <figure><img src="https://images.unsplash.com/photo-1556228722-6db5e8a5e5ff?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="work"></figure>
            <figure><img src="https://images.unsplash.com/photo-1600180758890-6d05b3e1c2c6?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="work"></figure>
          </div>
          <p class="tiny muted" style="margin-top:8px">–ö–∞—Ä—É—Å–µ–ª—å –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ñ–æ—Ç–æ –∏–∑ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ. –ü–æ–¥–ø–∏—Å–∏: —É—Å–ª—É–≥–∞ ‚Äî –≤—Ä–µ–º—è ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã.</p>
        </div>

        <div class="card" style="margin-top:16px">
          <h3 style="margin-top:0">–û—Ç–∑—ã–≤—ã</h3>
          <div class="reviews" id="reviews">
            <div class="review"><strong>–ê–Ω–Ω–∞</strong> ‚Äî 5‚òÖ<div class="tiny muted">¬´–û—á–µ–Ω—å –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, –ø—Ä–∏—è—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞. –†–µ–∫–æ–º–µ–Ω–¥—É—é!¬ª</div></div>
            <div class="review"><strong>–û–ª—å–≥–∞</strong> ‚Äî 5‚òÖ<div class="tiny muted">¬´–ü–æ–º–æ–≥–ª–∞ —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π —É—Ö–æ–¥–∞, –∑–∞–º–µ—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç¬ª</div></div>
          </div>
        </div>

        <div class="card" style="margin-top:16px">
          <h3 style="margin-top:0">–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</h3>
          <div class="certs">
            <div class="cert">–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç 1</div>
            <div class="cert">–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç 2</div>
            <div class="cert">–ö—É—Ä—Å –ø–æ –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏–∏</div>
          </div>
        </div>
      </div>

      <aside>
        <div class="card">
          <h3 style="margin-top:0">–£—Å–ª—É–≥–∏ –∏ —Ü–µ–Ω—ã</h3>
          <table>
            <thead><tr><th>–£—Å–ª—É–≥–∞</th><th class="muted">–í—Ä–µ–º—è</th><th class="muted">–¶–µ–Ω–∞</th></tr></thead>
            <tbody id="services-table">
              <tr><td>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –∏ —É—Ö–æ–¥ –∑–∞ –ª–∏—Ü–æ–º</td><td>45 –º–∏–Ω</td><td class="price">1500 ‚ÇΩ</td></tr>
              <tr><td>–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —á–∏—Å—Ç–∫–∞ –ª–∏—Ü–∞</td><td>60 –º–∏–Ω</td><td class="price">3000 ‚ÇΩ</td></tr>
              <tr><td>–ë–∏–æ—Ä–µ–≤–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è (–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è)</td><td>30 –º–∏–Ω</td><td class="price">‚Äî</td></tr>
              <tr><td>–ü–∏–ª–∏–Ω–≥</td><td>45 –º–∏–Ω</td><td class="price">2500 ‚ÇΩ</td></tr>
              <tr><td>–ö—É—Ä—Å –ø—Ä–æ—Ü–µ–¥—É—Ä (3 —Å–µ–∞–Ω—Å–∞)</td><td>‚Äî</td><td class="price">–æ—Ç 7000 ‚ÇΩ</td></tr>
            </tbody>
          </table>

          <hr style="margin:12px 0">
          <div style="font-weight:600">–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç</div>
          <div style="display:flex; gap:8px; margin-top:8px" class="booking">
            <select id="service-select" class="input">
              <option value="1500" data-name="–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –∏ —É—Ö–æ–¥ –∑–∞ –ª–∏—Ü–æ–º">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è ‚Äî 1500 ‚ÇΩ</option>
              <option value="3000" data-name="–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —á–∏—Å—Ç–∫–∞ –ª–∏—Ü–∞">–ß–∏—Å—Ç–∫–∞ ‚Äî 3000 ‚ÇΩ</option>
              <option value="2500" data-name="–ü–∏–ª–∏–Ω–≥">–ü–∏–ª–∏–Ω–≥ ‚Äî 2500 ‚ÇΩ</option>
              <option value="7000" data-name="–ö—É—Ä—Å 3 —Å–µ–∞–Ω—Å–∞">–ö—É—Ä—Å ‚Äî 7000 ‚ÇΩ</option>
            </select>
            <input type="number" id="qty" class="input" value="1" min="1" style="width:90px">
            <div style="align-self:center; font-weight:700" id="total">–ò—Ç–æ–≥–æ: 1500 ‚ÇΩ</div>
          </div>

          <hr style="margin:12px 0">
          <div style="font-weight:600; margin-bottom:6px">–û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å</div>
          <div class="booking">
            <input id="client-name" class="input" placeholder="–í–∞—à–µ –∏–º—è">
            <input id="client-phone" class="input" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω (+7...)">
            <input id="date" type="date" class="input">
            <div id="times" class="slots"></div>
            <div style="display:flex; gap:8px; margin-top:6px">
              <button class="btn" id="confirm-book">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
              <button class="btn-outline" id="contact-whatsapp">WhatsApp</button>
            </div>
            <div class="tiny muted">–ü–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∏ .ics —Ñ–∞–π–ª –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è.</div>
          </div>

        </div>

        <div class="card" style="margin-top:16px">
          <h3 style="margin-top:0">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
          <div class="tiny muted">–ö–∞–±–∏–Ω–µ—Ç: —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, 10 ‚Ä¢ –ú–æ—Å–∫–≤–∞</div>
          <div style="margin-top:8px">–¢–µ–ª–µ—Ñ–æ–Ω: <a href="tel:+71234567890">+7 (123) 456-78-90</a></div>
          <div style="margin-top:8px">Telegram: <a id="tg-link" href="#">@nadia_cosmetolog</a></div>
          <div style="margin-top:10px"><a href="https://www.google.com/maps" target="_blank">–ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</a></div>
        </div>
      </aside>
    </div>

    <footer id="contacts"> 
      <div class="tiny muted">¬© 2025 –ì–Ω–∞—Ç—é–∫ –ù–∞–¥–µ–∂–¥–∞ –ì–µ–æ—Ä–≥–∏–µ–≤–Ω–∞ ‚Äî –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥ ‚Ä¢ –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</div>
    </footer>
  </div>

  <script>
    // --- Services price calc ---
    const serviceSelect = document.getElementById('service-select');
    const qty = document.getElementById('qty');
    const totalEl = document.getElementById('total');
    function updateTotal(){
      const price = Number(serviceSelect.value || 0);
      const q = Math.max(1, Number(qty.value || 1));
      totalEl.textContent = `–ò—Ç–æ–≥–æ: ${price * q} ‚ÇΩ`;
    }
    serviceSelect.addEventListener('change', updateTotal);
    qty.addEventListener('input', updateTotal);
    updateTotal();

    // --- Time slot generator ---
    const timesEl = document.getElementById('times');
    const dateInput = document.getElementById('date');
    const confirmBtn = document.getElementById('confirm-book');
    const bookNow = document.getElementById('book-now');
    const viewWorks = document.getElementById('view-works');

    function getSlotsForDate(dateStr){
      if(!dateStr) return [];
      const date = new Date(dateStr + 'T00:00:00');
      const day = date.getDay();
      if(day === 0) return [];
      const slots = [];
      for(let h=10; h<18; h++){
        slots.push(`${String(h).padStart(2,'0')}:00`);
        slots.push(`${String(h).padStart(2,'0')}:30`);
      }
      return slots;
    }

    function renderSlots(){
      timesEl.innerHTML = '';
      const slots = getSlotsForDate(dateInput.value);
      if(slots.length===0){ timesEl.innerHTML = '<div class="tiny muted">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–∞—Ç—É.</div>'; return }
      slots.forEach(s=>{
        const btn = document.createElement('button');
        btn.type='button'; btn.className='slot'; btn.textContent=s;
        btn.addEventListener('click', ()=>{
          document.querySelectorAll('.slot').forEach(x=>x.classList.remove('selected'));
          btn.classList.add('selected');
        });
        timesEl.appendChild(btn);
      })
    }
    dateInput.addEventListener('change', renderSlots);

    bookNow.addEventListener('click', ()=>{ dateInput.focus(); window.scrollTo({top:document.getElementById('date').getBoundingClientRect().top + window.scrollY - 80, behavior:'smooth'})});
    viewWorks.addEventListener('click', ()=>{ window.scrollTo({top:document.getElementById('gallery').getBoundingClientRect().top + window.scrollY - 80, behavior:'smooth'})});

    // --- Booking confirm ---
    confirmBtn.addEventListener('click', async ()=>{
      const name = document.getElementById('client-name').value.trim();
      const phone = document.getElementById('client-phone').value.trim();
      const date = dateInput.value;
      const time = document.querySelector('.slot.selected')?.textContent;
      const serviceName = serviceSelect.options[serviceSelect.selectedIndex].dataset.name;
      if(!name || !phone || !date || !time){
        alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, –¥–∞—Ç—É –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è.');
        return;
      }
      const price = Number(serviceSelect.value) * Math.max(1, Number(qty.value||1));

      const booking = {id:Date.now(), name, phone, date, time, serviceName, price};
      const bookings = JSON.parse(localStorage.getItem('bookings')||'[]');
      bookings.push(booking); localStorage.setItem('bookings', JSON.stringify(bookings));

      // generate ICS
      const ics = generateICS(booking);
      downloadFile(ics, `${booking.serviceName.replace(/\s+/g,'_')}_${booking.date}.ics`, 'text/calendar');

      // Try to send to serverless notify endpoint (if deployed)
      try {
        // Adjust URL to your deployed function (see README below)
        await fetch('/.netlify/functions/notify', {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify(booking)
        });
      } catch(e){
        // ignore if endpoint not present
      }

      // WhatsApp quick open (click-to-chat)
      const waText = encodeURIComponent(`–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –º–µ–Ω—è –∑–æ–≤—É—Ç ${name}. –•–æ—á—É –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ ${serviceName} –Ω–∞ ${date} –≤ ${time}. –¢–µ–ª–µ—Ñ–æ–Ω: ${phone}.`);
      const waUrl = `https://wa.me/71234567890?text=${waText}`;

      if(confirm('–ó–∞–ø–∏—Å—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞. –•–æ—Ç–∏—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å WhatsApp –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è?')){
        window.open(waUrl, '_blank');
      } else {
        alert('–ó–∞–ø–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞. .ics —Ñ–∞–π–ª —Å–∫–∞—á–∞–Ω. –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Telegram-—É–≤–µ–¥–æ–º–∏—Ç–µ–ª—å, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.');
      }
    });

    // === –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –í TELEGRAM ===
function sendToTelegram(booking) {
  const token = "8291779359:AAFMrCuA6GNyiHSsudpKhI7IdHEmOn8ulaI"; // —Ç–æ–∫–µ–Ω —Ç–≤–æ–µ–≥–æ –±–æ—Ç–∞
  const chatId = "828439309";  // —Ç–≤–æ–π Telegram ID
  const text = `üß¥ –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å!\n\n–ò–º—è: ${booking.name}\n–¢–µ–ª–µ—Ñ–æ–Ω: ${booking.phone}\n–£—Å–ª—É–≥–∞: ${booking.serviceName}\n–î–∞—Ç–∞: ${booking.date} ${booking.time}\n–¶–µ–Ω–∞: ${booking.price} ‚ÇΩ`;

  fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ chat_id: chatId, text })
  })
  .then(res => res.json())
  .then(data => console.log("–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ:", data))
  .catch(err => console.error("–û—à–∏–±–∫–∞ Telegram:", err));
}


    // WhatsApp button
    document.getElementById('contact-whatsapp').addEventListener('click', ()=>{
      const pre = encodeURIComponent('–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–ø–∏—Å–∞—Ç—å—Å—è.');
      window.open('https://wa.me/?text='+pre, '_blank');
    });
    document.getElementById('tg-link').addEventListener('click', (e)=>{ e.preventDefault(); window.open('https://t.me/nadia_cosmetolog', '_blank'); });

    // ICS generator
    function toDateTimeLocal(dateStr, timeStr){
      const [y,m,d] = dateStr.split('-');
      const [hh,mm] = timeStr.split(':');
      return `${y}${m}${d}T${hh}${mm}00`;
    }
    function escapeICSText(t){ return t.replace(/,/g,'\\,').replace(/\n/g,'\\n') }
    function generateICS(b){
      const start = toDateTimeLocal(b.date, b.time);
      const endDate = new Date(b.date + 'T' + b.time + ':00'); endDate.setMinutes(endDate.getMinutes()+60);
      const pad = n=>String(n).padStart(2,'0');
      const end = `${endDate.getFullYear()}${pad(endDate.getMonth()+1)}${pad(endDate.getDate())}T${pad(endDate.getHours())}${pad(endDate.getMinutes())}00`;
      return `BEGIN:VCALENDAR\nVERSION:2.0\nBEGIN:VEVENT\nDTSTAMP:${start}Z\nDTSTART:${start}Z\nDTEND:${end}Z\nSUMMARY:${escapeICSText(b.serviceName)}\nDESCRIPTION:${escapeICSText('–ö–ª–∏–µ–Ω—Ç: '+b.name+'; –¢–µ–ª: '+b.phone)}\nEND:VEVENT\nEND:VCALENDAR`;
    }
    function downloadFile(data, filename, mime){
      const blob = new Blob([data], {type: mime});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download=filename; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    }

    // Notifications demo
    function askNotificationPermission(booking){
      if(!('Notification' in window)) return;
      if(Notification.permission === 'granted') scheduleNotification(booking);
      else if(Notification.permission !== 'denied'){
        Notification.requestPermission().then(permission=>{ if(permission==='granted') scheduleNotification(booking); });
      }
    }
    function scheduleNotification(b){
      setTimeout(()=>{ new Notification('–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –∑–∞–ø–∏—Å–∏', {body:`${b.serviceName} ‚Äî ${b.date} ${b.time}`}); }, 10000);
    }

    // Lightbox & before/after
    document.getElementById('gallery').addEventListener('click', (e)=>{
      const img = e.target.closest('img'); if(!img) return;
      const overlay = document.createElement('div'); overlay.style.position='fixed'; overlay.style.inset=0; overlay.style.background='rgba(0,0,0,0.6)'; overlay.style.display='flex'; overlay.style.alignItems='center'; overlay.style.justifyContent='center'; overlay.style.zIndex=9999; overlay.addEventListener('click', ()=>overlay.remove());
      const full = document.createElement('img'); full.src = img.src; full.style.maxWidth='96%'; full.style.maxHeight='90%'; full.style.borderRadius='12px'; overlay.appendChild(full);
      document.body.appendChild(overlay);
    });
    document.querySelectorAll('.before-after').forEach(el=>{
      el.addEventListener('mousemove', (e)=>{
        const rect = el.getBoundingClientRect(); const pct = (e.clientX - rect.left) / rect.width; const img = el.querySelector('img'); img.style.clipPath = `inset(0 ${100-(pct*100)}% 0 0)`;
      });
      el.addEventListener('mouseleave', ()=>{ el.querySelector('img').style.clipPath='none'; });
    });

    // Init: set min date to today
    const today = new Date();
    const yyyy = today.getFullYear(); const mm = String(today.getMonth()+1).padStart(2,'0'); const dd = String(today.getDate()).padStart(2,'0');
    dateInput.min = `${yyyy}-${mm}-${dd}`;
    dateInput.value = dateInput.min; renderSlots();
  </script>
</body>
</html>
